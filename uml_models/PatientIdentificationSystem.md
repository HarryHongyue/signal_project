# Design Explanation Document

## Patient Identification System Principles

The Patient Identification System is an important bridge between the simulated environment and the real hospital records. Its main purpose is to ensure that each data point generated by the cardiovascular monitoring system maintains a correspondence with the patient in the hospital database, thus maintaining data integrity and allowing for accurate clinical analysis.

The system is built on a layered architecture with clear separation of concerns. `PatientIdentifier` is the front-end component that receives the simulator patient ID and resolves it to the actual hospital patient. It uses caching techniques to optimize the performance of repetitive queries, reducing the database load while maintaining accuracy.

`HospitalPatient` encapsulates all relevant patient information, providing comprehensive information about the patient's identity and medical history. This class is the data container that connects the simulation environment to the hospital records.

`IdentityManager` handles patient matching and error resolution functions. When a matching patient cannot be found, it implements a fallback mechanism to store unmatched data and prevent data loss. This component also maintains the mapping rules that define how simulator IDs are converted to hospital identifiers.

`HospitalDatabase` provides a secure interface to the underlying hospital information system. By abstracting database access, it insulates the rest of the system from the details of the database implementation and keeps future changes in database technology from affecting other components.

`MappingRule` implements a policy schema that allows flexible configuration of patient identification algorithms. Different rules can be applied depending on the data source or patient type, allowing the system to adapt to a variety of clinical situations.
